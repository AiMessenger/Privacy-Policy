function dhtmlXForm(parentObj,data){this.i={position:"label-left",labelWidth:"auto",labelHeight:"auto",inputWidth:"auto",inputHeight:"auto",labelAlign:"left"};this.apos_css={"label-left":"item_label_left","label-right":"item_label_right","label-top":"item_label_top",absolute:"item_absolute"};this.align_css={left:"align_left",center:"align_center",right:"align_right"};var that=this;this.skin="dhx_skyblue";this.setSkin=function(skin){this.skin=skin;this.cont.className="dhxlist_obj_"+this.skin;this.cont.style.fontSize=(this.skin=="dhx_web"?"13px":"13px")};this.separator=",";this.hot_validate=false;this._type="checkbox";this._rGroup="default";this.cont=(typeof (parentObj)=="object"?parentObj:document.getElementById(parentObj));if(!parentObj._isNestedForm){this._parentForm=true;this.cont.style.fontSize=(this.skin=="dhx_web"?"13px":"13px");this.cont.className="dhxlist_obj_"+this.skin;this.setFontSize=function(fs){this.cont.style.fontSize=fs};this.getForm=function(){return this}}this.b=null;this.base=[];this._prepare=function(ofsLeft){if(this.b==null){this.b=0}else{this.b++}this.base[this.b]=document.createElement("DIV");this.base[this.b].className="dhxlist_base";if(typeof (ofsLeft)=="string"){ofsLeft=parseInt(ofsLeft)}if(typeof (ofsLeft)=="number"){this.base[this.b].style.marginLeft=ofsLeft+"px"}this.cont.appendChild(this.base[this.b])};this.setSizes=function(){};this._mergeSettings=function(data){var u=-1;var i={type:"settings"};for(var a in this.i){i[a]=this.i[a]}for(var q=0;q<data.length;q++){if(data[q].type=="settings"){for(var a in data[q]){i[a]=data[q][a]}u=q}}data[u>=0?u:data.length]=i;return data};this._genStr=function(w){var s="";var z="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var q=0;q<w;q++){s+=z.charAt(Math.round(Math.random()*(z.length-1)))}return s};this.idPrefix="dhxForm_"+this._genStr(12)+"_";this._rId=(this._parentForm?this._genStr(12)+"_":parentObj._rId);this.objPull={};this.itemPull={};this._ic=0;this._addItem=function(type,id,data,sId,lp){if(!type){type=this._type}if(type=="list"&&({fieldset:true,block:true})[this.getItemType(lp)]==true){var tr=this.itemPull[this.idPrefix+lp]._addSubListNode()}else{if(type=="newcolumn"){var tr={}}else{var tr=document.createElement("DIV");this.base[this.b].appendChild(tr)}}tr._idd=id;tr._rId=this._rId;if(typeof (data.offsetLeft)=="number"){tr.style.paddingLeft=data.offsetLeft+"px"}if(typeof (data.offsetTop)=="number"){tr.style.paddingTop=data.offsetTop+"px"}if(type=="list"){if(sId!=null){tr._sId=sId}var listData=this.items[type].render(tr);if(!this.itemPull[this.idPrefix+id]._listObj){this.itemPull[this.idPrefix+id]._listObj=[]}if(!this.itemPull[this.idPrefix+id]._list){this.itemPull[this.idPrefix+id]._list=[]}if(!this.itemPull[this.idPrefix+id]._listBase){this.itemPull[this.idPrefix+id]._listBase=[]}(this.itemPull[this.idPrefix+id]._listObj).push(listData[0]);(this.itemPull[this.idPrefix+id]._list).push(listData[1]);(this.itemPull[this.idPrefix+id]._listBase).push(tr);listData[1].checkEvent=function(evName){return that.checkEvent(evName)};listData[1].callEvent=function(evName,evData){return that.callEvent(evName,evData)};listData[1].getForm=function(){return that.getForm()};listData[1]._initObj(this._mergeSettings(data));if(tr._inBlcok){tr.className+=" in_block"}return listData[1]}if(type=="newcolumn"){this._prepare(data.offset);return }if(({input:true,fieldset:true,block:true})[type]!==true){tr.onselectstart=function(e){e=e||event;e.returnValue=false;return false}}if(type=="label"&&this._ic++==0){data._isTopmost=true}data.position=this.apos_css[(!data.position||!this.apos_css[data.position]?this.i.position:data.position)];tr.className=data.position+(typeof (data.className)=="string"?" "+data.className:"");if(!data.labelWidth){data.labelWidth=this.i.labelWidth}if(!data.labelHeight){data.labelHeight=this.i.labelHeight}data.labelAlign=(this.align_css[data.labelAlign]?this.align_css[data.labelAlign]:this.align_css[this.i.labelAlign]);data.inputWidth=(data.width?data.width:(data.inputWidth?data.inputWidth:this.i.inputWidth));if(!data.inputHeight){data.inputHeight=this.i.inputHeight}tr.checkEvent=function(evName){return that.checkEvent(evName)};tr.callEvent=function(evName,evData){return that.callEvent(evName,evData)};tr.getForm=function(){return that.getForm()};tr._autoCheck=function(){that._autoCheck()};if(data.validate){if(typeof (data.validate!="undefined")&&(typeof (data.validate)=="function"||typeof (window[data.validate])=="function")){tr._validate=[data.validate]}else{tr._validate=String(data.validate).split(this.separator)}}this.objPull[this.idPrefix+id]=this.items[type].render(tr,data);this.itemPull[this.idPrefix+id]=tr};this._initObj=function(data){this._prepare();for(var q=0;q<data.length;q++){if(data[q].type=="settings"){for(var a in data[q]){this.i[a]=data[q][a]}}}for(var q=0;q<data.length;q++){var type=(data[q].type||"");if(this.items[type]){if(!data[q].name){data[q].name=this._genStr(12)}var id=data[q].name;if(this.objPull[this.idPrefix+id]!=null||type=="radio"){id=this._genStr(12)}var obj=data[q];obj.label=obj.label||"";obj.value=obj.value;obj.checked=!!obj.checked;obj.disabled=!!obj.disabled;obj.name=obj.name||this._genStr(12);obj.options=obj.options||[];obj.rows=obj.rows||"none";obj.uid=this._genStr(12);this._addItem(type,id,obj);if(this._parentEnabled===false){this._disableItem(id)}for(var w=0;w<obj.options.length;w++){if(obj.options[w].list!=null){if(!obj.options[w].value){obj.options[w].value=this._genStr()}var subList=this._addItem("list",id,obj.options[w].list,obj.options[w].value);subList._subSelect=true;subList._subSelectId=obj.options[w].value}}if(data[q].list!=null){if(!data[q].listParent){data[q].listParent=obj.name}var subList=this._addItem("list",id,data[q].list,null,data[q].listParent)}}}this._autoCheck()};this._s2b=function(r){if(r=="true"||r=="1"||r=="yes"||r==true){return true}return false};this._xmlSubItems={item:"list",option:"options"};this._xmlToObject=function(xmlData,rootLevel){if(rootLevel===true){var data=[]}else{var data={};for(var a in this._xmlSubItems){data[this._xmlSubItems[a]]=[]}}for(var q=0;q<xmlData.childNodes.length;q++){if(typeof (xmlData.childNodes[q].nodeName)!="undefiend"&&this._xmlSubItems[xmlData.childNodes[q].nodeName]!=null){var t=this._xmlSubItems[xmlData.childNodes[q].nodeName];var k={};for(var w=0;w<xmlData.childNodes[q].attributes.length;w++){k[xmlData.childNodes[q].attributes[w].name]=xmlData.childNodes[q].attributes[w].value;var u=this._xmlToObject(xmlData.childNodes[q],false);for(var a in this._xmlSubItems){if(u[this._xmlSubItems[a]].length>0){k[this._xmlSubItems[a]]=u[this._xmlSubItems[a]]}}}if(rootLevel===true){data.push(k)}else{data[t].push(k)}}}return data};this._xmlParser=function(){that._initObj(that._xmlToObject(this.getXMLTopNode("items"),true));if(that.cont&&that.cont.cmp&&that.cont.cmp=="form"){that.setSizes()}that.callEvent("onXLE",[]);if(typeof (that._doOnLoad)=="function"){that._doOnLoad()}};this._doOnLoad=null;this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.loadStruct=function(a,b,c){if(typeof (b)=="string"){if(b.toLowerCase()=="json"){this._initObj(a);return }this._doOnLoad=(c||null)}else{this._doOnLoad=(b||null)}this.callEvent("onXLS",[]);this._xmlLoader.loadXML(a)};this.loadStructString=function(xmlString,onLoadFunction){this._doOnLoad=(onLoadFunction||null);this._xmlLoader.loadXMLString(xmlString)};this._autoCheck=function(enabled){if(typeof (enabled)=="undefined"){enabled=true}for(var a in this.itemPull){var isEnabled=(enabled&&(this.itemPull[a]._udis!==true));this[isEnabled?"_enableItem":"_disableItem"](this.itemPull[a]._idd);var pEnabled=(isEnabled&&(typeof (this.itemPull[a]._checked)=="boolean"?this.itemPull[a]._checked:true));if(this.itemPull[a]._list){for(var q=0;q<this.itemPull[a]._list.length;q++){var f=true;if(this.itemPull[a]._list[q]._subSelect==true){f=false;var v=this.getItemValue(this.itemPull[a]._idd);if(!(typeof (v)=="object"&&typeof (v.length)=="number")){v=[v]}for(var w=0;w<v.length;w++){f=(v[w]==this.itemPull[a]._list[q]._subSelectId)||f}this.itemPull[a]._listObj[q][f?"show":"hide"](this.itemPull[a]._listBase[q])}this.itemPull[a]._list[q]._autoCheck(pEnabled&&f)}}}};this.doWithItem=function(id,method,a,b,c,d){if(typeof (id)=="object"){var group=id[0];var value=id[1];var item=null;var res=null;for(var k in this.itemPull){if((this.itemPull[k]._value==value||value===null)&&this.itemPull[k]._group==group){return this.objPull[k][method](this.itemPull[k],a,b,c,d)}if(this.itemPull[k]._list!=null&&!res){for(var q=0;q<this.itemPull[k]._list.length;q++){res=this.itemPull[k]._list[q].doWithItem(id,method,a,b,c)}}}if(res!=null){return res}else{if(method=="getType"){return this.doWithItem(id[0],"getType")}}}else{if(!this.itemPull[this.idPrefix+id]){var res=null;for(var k in this.itemPull){if(this.itemPull[k]._list&&!res){for(var q=0;q<this.itemPull[k]._list.length;q++){if(!res){res=this.itemPull[k]._list[q].doWithItem(id,method,a,b,c,d)}}}}return res}else{return this.objPull[this.idPrefix+id][method](this.itemPull[this.idPrefix+id],a,b,c,d)}}};this.removeItem=function(id,value){if(value!=null){id=this.doWithItem([id,value],"destruct")}else{this.doWithItem(id,"destruct")}this._clearItemData(id)};this._clearItemData=function(id){if(this.itemPull[this.idPrefix+id]){id=this.idPrefix+id;try{this.objPull[id]=null;this.itemPull[id]=null;delete this.objPull[id];delete this.itemPull[id]}catch(e){}}else{for(var k in this.itemPull){if(this.itemPull[k]._list){for(var q=0;q<this.itemPull[k]._list.length;q++){this.itemPull[k]._list[q]._clearItemData(id)}}}}};this.isItem=function(id,value){if(value!=null){id=[id,value]}return this.doWithItem(id,"isExist")};this.getItemType=function(id,value){id=[id,(value||null)];return this.doWithItem(id,"getType")}
/* returns array of item names (without doubling)
	 **/
;this.getItemsList=function(){var list=[];var exist=[];for(var a in this.itemPull){var id=null;if(this.itemPull[a]._group){id=this.itemPull[a]._group}else{id=a.replace(this.idPrefix,"")}if(exist[id]!=true){list.push(id)}exist[id]=true}return list};this.forEachItem=function(handler){for(var a in this.objPull){handler(String(a).replace(this.idPrefix,""));if(this.itemPull[a]._list){for(var q=0;q<this.itemPull[a]._list.length;q++){this.itemPull[a]._list[q].forEachItem(handler)}}}};this.setItemLabel=function(id,value,text){if(text!=null){id=[id,value]}else{text=value}this.doWithItem(id,"setText",text)};this.getItemLabel=function(id,value){if(value!=null){id=[id,value]}return this.doWithItem(id,"getText")};this.setItemText=this.setItemLabel;this.getItemText=this.getItemLabel;this._enableItem=function(id){this.doWithItem(id,"enable")};this._disableItem=function(id){this.doWithItem(id,"disable")};this._isItemEnabled=function(id){return this.doWithItem(id,"isEnabled")};this.checkItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"check");this._autoCheck()};this.uncheckItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"unCheck");this._autoCheck()};this.isItemChecked=function(id,value){if(value!=null){id=[id,value]}return this.doWithItem(id,"isChecked")};this.getCheckedValue=function(id){return this.doWithItem([id,null],"getChecked")};this._getRGroup=function(id,val){for(var a in this.itemPull){if(this.itemPull[a]._group==id&&(val==null||this.itemPull[a]._value==val)){return this.itemPull[a]._idd}if(this.itemPull[a]._list!=null){for(var q=0;q<this.itemPull[a]._list.length;q++){var r=this.itemPull[a]._list[q]._getRGroup(id,val);if(r!=null){return r}}}}return null};this.setItemValue=function(id,value){if(this.getItemType(id)=="radio"){if(this._getRGroup(id,value)!=null){this.checkItem(id,value)}else{this.uncheckItem(id,this.getCheckedValue(id))}return null}return this.doWithItem(id,"setValue",value)};this.getItemValue=function(id,param){if(this.getItemType(id)=="radio"){return this.getCheckedValue(id)}return this.doWithItem(id,"getValue",param)};this.showItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"show")};this.hideItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"hide")};this.isItemHidden=function(id,value){if(value!=null){id=[id,value]}return this.doWithItem(id,"isHidden")};this.getOptions=function(id){return this.doWithItem(id,"getOptions")};this.setItemWidth=function(id,width){this.doWithItem(id,"setWidth",width)};this.getItemWidth=function(id){return this.doWithItem(id,"getWidth")};this.setItemHeight=function(id,height){this.doWithItem(id,"setHeight",height)};this.setItemFocus=function(id){this.doWithItem(id,"setFocus")};this._updateValues=function(){for(var a in this.itemPull){if(this.objPull[a]&&typeof (this.objPull[a].updateValue)=="function"){this.objPull[a].updateValue(this.itemPull[a])}if(this.itemPull[a]._list){for(var q=0;q<this.itemPull[a]._list.length;q++){this.itemPull[a]._list[q]._updateValues()}}}};this._getItemByName=function(id){for(var a in this.itemPull){if(this.itemPull[a]._idd==id){return this.itemPull[a]}if(this.itemPull[a]._list!=null){for(var q=0;q<this.itemPull[a]._list.length;q++){var r=this.itemPull[a]._list[q]._getItemByName(id);if(r!=null){return r}}}}return null};this._resetValidateCss=function(item){item.className=(item.className).replace(item._vcss,"");item._vcss=null};this.setValidateCss=function(name,state,custom){var item=this[this.getItemType(name)=="radio"?"_getRGroup":"_getItemByName"](name);if(!item){return }if(item._vcss!=null){this._resetValidateCss(item)}item._vcss=(typeof (custom)=="string"?custom:"validate_"+(state===true?"ok":"error"));item.className+=" "+item._vcss};this.resetValidateCss=function(name){for(var a in this.itemPull){if(this.itemPull[a]._vcss!=null){this._resetValidateCss(this.itemPull[a])}if(this.itemPull[a]._list!=null){for(var q=0;q<this.itemPull[a]._list.length;q++){this.itemPull[a]._list[q].resetValidateCss()}}}};this.validate=function(type){this._updateValues();if(this.callEvent("onBeforeValidate",[])==false){return }var completed=true;this.forEachItem(function(name){completed=completed&&that.doWithItem(name,"_validate")});this.callEvent("onAfterValidate",[completed]);return completed};this.setReadonly=function(id,state){this.doWithItem(id,"setReadonly",state)};this.isReadonly=function(id){return this.doWithItem(id,"isReadonly")};this.enableItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"userEnable");this._autoCheck()};this.disableItem=function(id,value){if(value!=null){id=[id,value]}this.doWithItem(id,"userDisable");this._autoCheck()};this.isItemEnabled=function(id,value){if(value!=null){id=[id,value]}return this.doWithItem(id,"isUserEnabled")};this.clear=function(){var usedRAs={};this.formId=(new Date()).valueOf();this.resetDataProcessor("inserted");for(var a in this.itemPull){var t=this.itemPull[a]._idd;if(this.itemPull[a]._type=="ch"){this.uncheckItem(t)}if(this.itemPull[a]._type in {ta:1,editor:1,calendar:1,pw:1}){this.setItemValue(t,"")}if(this.itemPull[a]._type=="combo"){(this.getCombo(t)).selectOption(0)}if(this.itemPull[a]._type=="se"){var opts=this.getOptions(t);if(opts.length>0){opts[0].selected=true}}if(this.itemPull[a]._type=="ra"){var g=this.itemPull[a]._group;if(!usedRAs[g]){this.checkItem(g,this.doWithItem(t,"_getFirstValue"));usedRAs[g]=true}}if(this.itemPull[a]._list){for(var q=0;q<this.itemPull[a]._list.length;q++){this.itemPull[a]._list[q].clear()}}}usedRAs=null;if(this._parentForm){this._autoCheck()}this.resetValidateCss()};this.unload=function(){for(var a in this.objPull){this.removeItem(String(a).replace(this.idPrefix,""))}this.detachAllEvents();if(this._ccTm){window.clearTimeout(this._ccTm)}if(window.dhtmlXFormLs[this._rId]){for(var q=0;q<window.dhtmlXFormLs[this._rId].inps.lenght;q++){window.dhtmlXFormLs[this._rId].inps[q]=null}for(var a in window.dhtmlXFormLs[this._rId].vals){window.dhtmlXFormLs[this._rId].vals[a]=null}for(var a in window.dhtmlXFormLs[this._rId]){window.dhtmlXFormLs[this._rId][a]=null}window.dhtmlXFormLs[this._rId]=null;try{delete window.dhtmlXFormLs[this._rId]}catch(e){}}this._xmlLoader.destructor();this._xmlLoader=null;this._xmlParser=null;this._xmlToObject=null;this.loadXML=null;this.loadXMLString=null;this.items=null;this.objPull=null;this.itemPull=null;this._addItem=null;this._genStr=null;this._initObj=null;this._autoCheck=null;this._clearItemData=null;this._enableItem=null;this._disableItem=null;this._isItemEnabled=null;this.forEachItem=null;this.isItem=null;this.clear=null;this.doWithItem=null;this.getItemType=null;this.removeItem=null;this.unload=null;this.getForm=null;this.attachEvent=null;this.callEvent=null;this.checkEvent=null;this.detachEvent=null;this.eventCatcher=null;this.setItemPosition=null;this.getItemPosition=null;this._setPosition=null;this._getPosition=null;this.setItemLabel=null;this.getItemLabel=null;this.setItemText=null;this.getItemText=null;this.setItemValue=null;this.getItemValue=null;this.showItem=null;this.hideItem=null;this.isItemHidden=null;this.checkItem=null;this.uncheckItem=null;this.isItemChecked=null;this.getOptions=null;this._ic=null;this._ulToObject=null;this.loadStruct=null;this.loadStructString=null;this.remove=null;this.setFontSize=null;this.setItemHeight=null;this.setItemWidth=null;this.setSkin=null;this._rGroup=null;this._type=null;this._parentEnabled=null;this._parentForm=null;this._doLock=null;this._mergeSettings=null;this._locked=null;this._prepare=null;this.detachAllEvents=null;this.getCheckedValue=null;this.getItemWidth=null;this.setUserData=null;this.getUserData=null;this.setRTL=null;this.setSizes=null;this.getCalendar=null;this.getColorPicker=null;this.getCombo=null;this.getEditor=null;this.setFormData=null;this.getFormData=null;this.getItemsList=null;this.lock=null;this.unlock=null;this.isLocked=null;this.setReadonly=null;this.isReadonly=null;this.apos_css=null;this.align_css=null;this.b=null;this.i=null;this.skin=null;this.idPrefix=null;this._subSelect=null;this._subSelectId=null;for(var q=0;q<this.base.length;q++){while(this.base[q].childNodes.length>0){this.base[q].removeChild(this.base[q].childNodes[0])}if(this.base[q].parentNode){this.base[q].parentNode.removeChild(this.base[q])}this.base[q]=null}this.base=null;this.cont.className="";this.cont=null};for(var a in this.items){this.items[a].t=a;if(!this.items[a].show){this.items[a].show=function(item){item.style.display="";if(item._listObj){for(var q=0;q<item._listObj.length;q++){item._listObj[q].show(item._listBase[q])}}}}if(!this.items[a].hide){this.items[a].hide=function(item){item.style.display="none";if(item._listObj){for(var q=0;q<item._listObj.length;q++){item._listObj[q].hide(item._listBase[q])}}}}if(!this.items[a].isHidden){this.items[a].isHidden=function(item){return(item.style.display=="none")}}if(!this.items[a].userEnable){this.items[a].userEnable=function(item){item._udis=false}}if(!this.items[a].userDisable){this.items[a].userDisable=function(item){item._udis=true}}if(!this.items[a].isUserEnabled){this.items[a].isUserEnabled=function(item){return(item._udis!==true)}}if(!this.items[a].getType){this.items[a].getType=function(){return this.t}}if(!this.items[a].isExist){this.items[a].isExist=function(){return true}}if(!this.items[a].validate){this.items[a]._validate=function(item){if(!item._validate){return true}var val=this.getValue(item);var r=true;for(var q=0;q<item._validate.length;q++){var f=dhtmlxValidation["is"+item._validate[q]];if(typeof (f)!="function"&&typeof (item._validate[q])=="function"){f=item._validate[q]}if(typeof (f)!="function"&&typeof (window[item._validate[q]])=="function"){f=window[item._validate[q]]}r=(r&&(typeof (f)=="function"?f(val):new RegExp(item._validate[q]).test(val)));f=null}if(!(item.callEvent("onValidate"+(r?"Success":"Error"),[item._idd,val,r])===false)){item.getForm().setValidateCss(item._idd,r)}return r}}}this._locked=false;this._doLock=function(state){var t=(state===true?true:false);if(this._locked==t){return }else{this._locked=t}this._autoCheck(!this._locked)};this.lock=function(){this._doLock(true)};this.unlock=function(){this._doLock(false)};this.isLocked=function(){return this._locked};dhtmlxEventable(this);this.attachEvent("_onButtonClick",function(name,cmd){this.callEvent("onButtonClick",[name,cmd])});if(!window.dhtmlXFormLs[this._rId]){window.dhtmlXFormLs[this._rId]={form:this,inps:[],vals:{}}}if(data!=null&&typeof data=="object"){this._initObj(data)}this._ccTm=null;this._ccDo=function(){for(var a in window.dhtmlXFormLs){for(var q=0;q<window.dhtmlXFormLs[a].inps.length;q++){var idd=window.dhtmlXFormLs[a].inps[q]._idd;if(String(window.dhtmlXFormLs[a].inps[q].tagName).toLowerCase()=="select"){var v="";if(window.dhtmlXFormLs[a].inps[q].selectedIndex>=0&&window.dhtmlXFormLs[a].inps[q].selectedIndex<window.dhtmlXFormLs[a].inps[q].options.length){v=window.dhtmlXFormLs[a].inps[q].options[window.dhtmlXFormLs[a].inps[q].selectedIndex].value}}else{var v=window.dhtmlXFormLs[a].inps[q].value}if(v!=window.dhtmlXFormLs[a].vals[idd]){window.dhtmlXFormLs[a].vals[idd]=v;window.dhtmlXFormLs[a].form.callEvent("onInputChange",[idd,v,this])}}}if(this._ccTm){window.clearTimeout(this._ccTm)}this._ccTm=window.setTimeout(function(){that._ccDo()},10)};this._ccDo();return this}dhtmlXForm.prototype.getInput=function(A){return this.doWithItem(A,"getInput")};dhtmlXForm.prototype.getSelect=function(A){return this.doWithItem(A,"getSelect")};dhtmlXForm.prototype.items={};dhtmlXForm.prototype.items.checkbox={render:function(B,C){B._type="ch";B._enabled=true;B._checked=false;B._value=String(C.value);B._ro=(C.readonly==true);var D=document.createElement("DIV");D.className="dhxlist_img chbx0";B.appendChild(D);if(!isNaN(C.inputLeft)){D.style.left=parseInt(C.inputLeft)+"px"}if(!isNaN(C.inputTop)){D.style.top=parseInt(C.inputTop)+"px"}this.doAddLabel(B,C);var A=document.createElement("INPUT");A.type="HIDDEN";A.value=String(C.value);B.appendChild(A);if(C.checked==true){this.check(B)}if(C.hidden==true){this.hide(B)}if(C.disabled==true){this.userDisable(B)}this.doAttachEvents(B);return this},destruct:function(A){this.doUnloadNestedLists(A);this.doDestruct(A)},doAddLabel:function(B,C){var A=document.createElement("DIV");A.className="dhxlist_txt "+C.labelAlign;B.appendChild(A);A.innerHTML="<span class='nav_link' onkeypress='e=event||window.arguments[0];if(e.keyCode==32||e.charCode==32){e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this,\"mousedown\");return false;}' "+(_dhxForm_isIPad?"ontouchstart='e=event;e.preventDefault();_dhxForm_doClick(this,\"mousedown\");' ":"")+"role='link' tabindex='0'>"+C.label+"</span>";if(!isNaN(C.labelWidth)){A.style.width=parseInt(C.labelWidth)+"px"}if(!isNaN(C.labelHeight)){A.style.height=parseInt(C.labelHeight)+"px"}if(!isNaN(C.labelLeft)){A.style.left=parseInt(C.labelLeft)+"px"}if(!isNaN(C.labelTop)){A.style.top=parseInt(C.labelTop)+"px"}},doUnloadNestedLists:function(A){if(!A._list){return }for(var B=0;B<A._list.length;B++){A._list[B].unload();A._list[B]=null;A._listObj[B]=null;A._listBase[B].parentNode.removeChild(A._listBase[B]);A._listBase[B]=null}A._list=null;A._listObj=null;A._listBase=null},doDestruct:function(A){A.callEvent=null;A.checkEvent=null;A.getForm=null;A._autoCheck=null;A._checked=null;A._enabled=null;A._idd=null;A._type=null;A._value=null;A._group=null;A.onselectstart=null;A.childNodes[0].onmousedown=null;A.childNodes[0].ontouchstart=null;A.childNodes[1].onmousedown=null;A.childNodes[1].ontouchstart=null;A.childNodes[1].childNodes[0].onkeypress=null;A.childNodes[1].childNodes[0].ontouchstart=null;A.childNodes[1].removeChild(A.childNodes[1].childNodes[0]);while(A.childNodes.length>0){A.removeChild(A.childNodes[0])}A.parentNode.removeChild(A);A=null},doAttachEvents:function(B){var A=this;B.childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(C){C=C||event;if(C.preventDefault){C.preventDefault()}if(!this.parentNode._enabled||this.parentNode._ro){C.cancelBubble=true;C.returnValue=false;return false}A.doClick(this.parentNode)};B.childNodes[1].childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(C){C=C||event;if(C.preventDefault){C.preventDefault()}if(!this.parentNode.parentNode._enabled){C.cancelBubble=true;C.returnValue=false;return false}A.doClick(this.parentNode.parentNode)}},doClick:function(A){A.childNodes[1].childNodes[0].focus();if(!A._enabled||A._ro){return }if(A.checkEvent("onBeforeChange")){if(A.callEvent("onBeforeChange",[A._idd,A._value,A._checked])!==true){return }}this.setChecked(A,!A._checked);A._autoCheck();A.callEvent("onChange",[A._idd,A._value,A._checked])},doCheckValue:function(A){if(A._checked&&A._enabled){A.childNodes[2].setAttribute("name",String(A._idd))}else{A.childNodes[2].removeAttribute("name")}},setChecked:function(A,B){A._checked=(B===true?true:false);A.childNodes[0].className="dhxlist_img "+(A._checked?"chbx1":"chbx0");this.doCheckValue(A)},check:function(A){this.setChecked(A,true)},unCheck:function(A){this.setChecked(A,false)},isChecked:function(A){return A._checked},enable:function(A){if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}A._enabled=true;A.childNodes[1].childNodes[0].tabIndex=0;A.childNodes[1].childNodes[0].removeAttribute("disabled");this.doCheckValue(A)},disable:function(A){if(String(A.className).search("disabled")<0){A.className+=" disabled"}A._enabled=false;A.childNodes[1].childNodes[0].tabIndex=-1;A.childNodes[1].childNodes[0].setAttribute("disabled","true");this.doCheckValue(A)},isEnabled:function(A){return A._enabled},setText:function(A,B){A.childNodes[1].childNodes[0].innerHTML=B},getText:function(A){return A.childNodes[1].childNodes[0].innerHTML},setValue:function(A,B){this.setChecked(A,(B===true||A._value===B))},getValue:function(A){return A._value},setReadonly:function(A,B){A._ro=(B===true)},isReadonly:function(A){return A._ro},getValue:function(A){return A._value}};dhtmlXForm.prototype.items.radio={input:{},r:{},firstValue:{},render:function(C,D,B){C._type="ra";C._enabled=true;C._checked=false;C._group=D.name;C._value=D.value;C._uid=B;C._ro=(D.readonly==true);this.r[C._idd]=C;var E=document.createElement("DIV");E.className="dhxlist_img rdbt0";C.appendChild(E);if(!isNaN(D.inputLeft)){E.style.left=parseInt(D.inputLeft)+"px"}if(!isNaN(D.inputTop)){E.style.top=parseInt(D.inputTop)+"px"}this.doAddLabel(C,D);if(this.input[D.name]==null){var A=document.createElement("INPUT");A.type="HIDDEN";A.name=D.name;A.firstValue=C._value;C.appendChild(A);this.input[D.name]=A}if(!this.firstValue[D.name]){this.firstValue[D.name]=D.value}if(D.checked==true){this.check(C)}if(D.hidden==true){this.hide(C)}if(D.disabled==true){this.userDisable(C)}this.doAttachEvents(C);return this},destruct:function(C,D){if(C.lastChild==this.input[C._group]){var B=false;for(var A in this.r){if(!B&&this.r[A]._group==C._group&&this.r[A]._idd!=C._idd){this.r[A].appendChild(this.input[C._group]);B=true}}if(!B){this.input[C._group].parentNode.removeChild(this.input[C._group]);this.input[C._group]=null;this.firstValue[C._group]=null}}var E=C._idd;this.doUnloadNestedLists(C);this.doDestruct(C);return E},doClick:function(B){B.childNodes[1].childNodes[0].focus();if(!(B._enabled&&!B._checked)){return }if(B._ro){return }var A=[B._group,B._value,true];if(B.checkEvent("onBeforeChange")){if(B.callEvent("onBeforeChange",A)!==true){return }}this.setChecked(B,true);B.getForm()._autoCheck();B.callEvent("onChange",A)},doCheckValue:function(B){var C=null;for(var A in this.r){if(this.r[A]._checked&&this.r[A]._enabled&&this.r[A]._group==B._group){C=this.r[A]._value}}if(C!=null){this.input[B._group].setAttribute("name",String(B._group));this.input[B._group].setAttribute("value",C);this.input[B._group]._value=C}else{this.input[B._group].removeAttribute("name");this.input[B._group].removeAttribute("value");this.input[B._group]._value=null}},setChecked:function(C,D){D=(D===true);for(var A in this.r){if(this.r[A]._group==C._group){var B=false;if(this.r[A]._idd==C._idd){if(this.r[A]._checked!=D){this.r[A]._checked=D;B=true}}else{if(this.r[A]._checked){this.r[A]._checked=false;B=true}}if(B){this.r[A].childNodes[0].className="dhxlist_img "+(this.r[A]._checked?"rdbt1":"rdbt0")}}}this.doCheckValue(C)},getChecked:function(A){return this.input[A._group]._value},_getFirstValue:function(A){return this.firstValue[A._group]},setValue:function(A,B){},getValue:function(A){return A._value}};(function(){for(var A in {doAddLabel:1,doDestruct:1,doUnloadNestedLists:1,doAttachEvents:1,check:1,unCheck:1,isChecked:1,enable:1,disable:1,isEnabled:1,setText:1,getText:1,getValue:1,setReadonly:1,isReadonly:1}){dhtmlXForm.prototype.items.radio[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.select={render:function(B,C){B._type="se";B._enabled=true;B._value=null;B._newValue=null;this.doAddLabel(B,C);this.doAddInput(B,C,"SELECT",null,true,true,"dhxlist_txt_select");this.doAttachEvents(B);this.doLoadOpts(B,C);if(C.connector){var A=this;dhtmlxAjax.get(C.connector,function(E){var G=E.doXPath("//item");var D=[];for(var F=0;F<G.length;F++){D[F]={label:G[F].getAttribute("label"),value:G[F].getAttribute("value"),selected:(G[F].getAttribute("selected")!=null)}}A.doLoadOpts(B,{options:D},true)})}return this},destruct:function(A){this.doUnloadNestedLists(A);A.callEvent=null;A.checkEvent=null;A.getForm=null;A._autoCheck=null;A._enabled=null;A._idd=null;A._type=null;A._value=null;A._newValue=null;A.onselectstart=null;A.childNodes[1].childNodes[0].onclick=null;A.childNodes[1].childNodes[0].onkeydown=null;A.childNodes[1].childNodes[0].onchange=null;A.childNodes[1].childNodes[0].onblur=null;A.childNodes[1].childNodes[0].onkeyup=null;A.childNodes[1].removeChild(A.childNodes[1].childNodes[0]);while(A.childNodes.length>0){A.removeChild(A.childNodes[0])}A.parentNode.removeChild(A);A=null},doAddLabel:function(B,C){var A=document.createElement("DIV");A.className="dhxlist_txt_label "+C.labelAlign;A.innerHTML="<label for='"+C.uid+"'>"+C.label+"</label>";B.appendChild(A);if(C.label.length==0){A.style.display="none"}if(!isNaN(C.labelWidth)){A.style.width=parseInt(C.labelWidth)+"px"}if(!isNaN(C.labelHeight)){A.style.height=parseInt(C.labelHeight)+"px"}if(!isNaN(C.labelLeft)){A.style.left=parseInt(C.labelLeft)+"px"}if(!isNaN(C.labelTop)){A.style.top=parseInt(C.labelTop)+"px"}},doAddInput:function(K,C,B,F,G,D,E){var A=document.createElement("DIV");A.className="dhxlist_cont";K.appendChild(A);var J=document.createElement(B);J.className=E;J.name=K._idd;J._idd=K._idd;J.id=C.uid;if(typeof (F)=="string"){J.type=F}if(B=="INPUT"||B=="TEXTAREA"){J.onkeyup=function(L){L=L||event;K.callEvent("onKeyUp",[this,L])}}if(B=="INPUT"||B=="TEXTAREA"||B=="SELECT"){var H=K.getForm()._rId;if(window.dhtmlXFormLs&&window.dhtmlXFormLs[H]){window.dhtmlXFormLs[H].inps.push(J);window.dhtmlXFormLs[H].vals[J._idd]=""}}A.appendChild(J);if(C.readonly){this.setReadonly(K,true)}if(C.hidden==true){this.hide(K)}if(C.disabled==true){this.userDisable(K)}if(G){if(!isNaN(C.inputLeft)){A.style.left=parseInt(C.inputLeft)+"px"}if(!isNaN(C.inputTop)){A.style.top=parseInt(C.inputTop)+"px"}}var I="";if(D){if(!isNaN(C.inputWidth)){I+="width:"+parseInt(C.inputWidth)+"px;"}if(!isNaN(C.inputHeight)){I+="height:"+parseInt(C.inputHeight)+"px;"}}if(typeof (C.style)=="string"){I+=C.style}J.style.cssText=I;if(C.maxLength){J.setAttribute("maxLength",C.maxLength)}if(C.connector){J.setAttribute("connector",C.connector)}},doAttachEvents:function(C){var A=C.childNodes[1].childNodes[0];var B=this;A.onclick=function(){B.doOnChange(this);B.doValidate(this.parentNode.parentNode)};A.onkeydown=function(){B.doOnChange(this);B.doValidate(this.parentNode.parentNode)};A.onchange=function(){B.doOnChange(this);B.doValidate(this.parentNode.parentNode)}},doValidate:function(A){if(A.getForm().hot_validate){this._validate(A)}},doLoadOpts:function(D,G,H){var B=D.childNodes[1].childNodes[0];var C=G.options;for(var F=0;F<C.length;F++){var E=C[F].text||C[F].label;if(!E||typeof (E)=="undefined"){E=""}var A=new Option(E,C[F].value);B.options.add(A);if(C[F].selected==true||C[F].selected=="true"){A.selected=true;D._value=C[F].value}}if(H===true){D.callEvent("onOptionsLoaded",[D._idd])}},doOnChange:function(C){var A=C.parentNode.parentNode;A._newValue=(C.selectedIndex>=0?C.options[C.selectedIndex].value:null);if(A._newValue!=A._value){if(A.checkEvent("onBeforeChange")){if(A.callEvent("onBeforeChange",[A._idd,A._value,A._newValue])!==true){for(var B=0;B<C.options.length;B++){if(C.options[B].value==A._value){C.options[B].selected=true}}return }}A._value=A._newValue;A.callEvent("onChange",[A._idd,A._value])}A._autoCheck()},setText:function(A,B){if(!B){B=""}A.childNodes[0].childNodes[0].innerHTML=B;A.childNodes[0].style.display=(B.length==0||B==null?"none":"")},getText:function(A){return A.childNodes[0].childNodes[0].innerHTML},enable:function(A){if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}A._enabled=true;A.childNodes[1].childNodes[0].removeAttribute("disabled")},disable:function(A){if(String(A.className).search("disabled")<0){A.className+=" disabled"}A._enabled=false;A.childNodes[1].childNodes[0].setAttribute("disabled",true)},getOptions:function(A){return A.childNodes[1].childNodes[0].options},setValue:function(B,D){var A=this.getOptions(B);for(var C=0;C<A.length;C++){if(A[C].value==D){A[C].selected=true;B._value=A[C].value}}window.dhtmlXFormLs[B.getForm()._rId].vals[B._idd]=B._value},getValue:function(C){var A=-1;var B=this.getOptions(C);for(var D=0;D<B.length;D++){if(B[D].selected){A=B[D].value}}return A},setWidth:function(B,A){B.childNodes[1].childNodes[0].style.width=A+"px"},getSelect:function(A){return A.childNodes[1].childNodes[0]}};(function(){for(var A in {doUnloadNestedLists:1}){dhtmlXForm.prototype.items.select[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.multiselect={doLoadOpts:function(D,F){var B=D.childNodes[1].childNodes[0];B.multiple=true;if(!isNaN(F.size)){B.size=Number(F.size)}D._value=[];D._newValue=[];var C=F.options;for(var E=0;E<C.length;E++){var A=new Option(C[E].text||C[E].label,C[E].value);B.options.add(A);if(C[E].selected==true||C[E].selected=="true"){A.selected=true;D._value.push(C[E].value)}}},doAttachEvents:function(C){var A=C.childNodes[1].childNodes[0];var B=this;A.onblur=function(){B.doOnChange(this)};A.onclick=function(){C._autoCheck()}},doOnChange:function(D){var B=D.parentNode.parentNode;B._newValue=[];for(var C=0;C<D.options.length;C++){if(D.options[C].selected){B._newValue.push(D.options[C].value)}}if((B._value).sort().toString()!=(B._newValue).sort().toString()){if(B.checkEvent("onBeforeChange")){if(B.callEvent("onBeforeChange",[B._idd,B._value,B._newValue])!==true){var A={};for(var C=0;C<B._value.length;C++){A[B._value[C]]=true}for(var C=0;C<D.options.length;C++){D.options[C].selected=(A[D.options[C].value]==true)}A=null;return }}B._value=[];for(var C=0;C<B._newValue.length;C++){B._value.push(B._newValue[C])}B.callEvent("onChange",[B._idd,B._value])}B._autoCheck()},setValue:function(C,E){var A={};if(typeof (E)=="string"){E=E.split(",")}if(typeof (E)!="object"){E=[E]}for(var D=0;D<E.length;D++){A[E[D]]=true}var B=this.getOptions(C);for(var D=0;D<B.length;D++){B[D].selected=(A[B[D].value]==true)}},getValue:function(C){var A=[];var B=this.getOptions(C);for(var D=0;D<B.length;D++){if(B[D].selected){A.push(B[D].value)}}return A}};(function(){for(var A in dhtmlXForm.prototype.items.select){if(!dhtmlXForm.prototype.items.multiselect[A]){dhtmlXForm.prototype.items.multiselect[A]=dhtmlXForm.prototype.items.select[A]}}})();dhtmlXForm.prototype.items.input={render:function(B,C){var A=(!isNaN(C.rows));B._type="ta";B._enabled=true;this.doAddLabel(B,C);this.doAddInput(B,C,(A?"TEXTAREA":"INPUT"),(A?null:"TEXT"),true,true,"dhxlist_txt_textarea");this.doAttachEvents(B);if(A){B.childNodes[1].childNodes[0].rows=C.rows}this.setValue(B,C.value);return this},doAttachEvents:function(B){var A=this;B.childNodes[1].childNodes[0].onblur=function(){var C=this.parentNode.parentNode;A.updateValue(C);if(C.getForm().hot_validate){A._validate(C)}C=null}},updateValue:function(A){var B=A.childNodes[1].childNodes[0].value;if(A._value!=B){if(A.checkEvent("onBeforeChange")){if(A.callEvent("onBeforeChange",[A._idd,A._value,B])!==true){A.childNodes[1].childNodes[0].value=A._value;return }}A._value=B;A.callEvent("onChange",[A._idd,B])}},setValue:function(A,B){A._value=B;A.childNodes[1].childNodes[0].value=(A._value||"");window.dhtmlXFormLs[A.getForm()._rId].vals[A._idd]=A.childNodes[1].childNodes[0].value},getValue:function(A){return A._value},setReadonly:function(A,B){A._ro=(B===true);if(A._ro){A.childNodes[1].childNodes[0].setAttribute("readOnly","true")}else{A.childNodes[1].childNodes[0].removeAttribute("readOnly")}},isReadonly:function(A){if(!A._ro){A._ro=false}return A._ro},setFocus:function(A){A.childNodes[1].childNodes[0].focus()},getInput:function(A){return A.childNodes[1].childNodes[0]}};(function(){for(var A in {doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1}){dhtmlXForm.prototype.items.input[A]=dhtmlXForm.prototype.items.select[A]}})();dhtmlXForm.prototype.items.password={render:function(A,B){A._type="pw";A._enabled=true;this.doAddLabel(A,B);this.doAddInput(A,B,"INPUT","PASSWORD",true,true,"dhxlist_txt_textarea");this.doAttachEvents(A);A._value=(B.value||"");A.childNodes[1].childNodes[0].value=A._value;return this}};(function(){for(var A in {doAddLabel:1,doAddInput:1,doAttachEvents:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,setValue:1,getValue:1,updateValue:1,enable:1,disable:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1}){dhtmlXForm.prototype.items.password[A]=dhtmlXForm.prototype.items.input[A]}})();dhtmlXForm.prototype.items.file={render:function(A,B){A._type="fl";A._enabled=true;this.doAddLabel(A,B);this.doAddInput(A,B,"INPUT","FILE",true,false,"dhxlist_txt_textarea");A.childNodes[1].childNodes[0].onchange=function(){A.callEvent("onChange",[A._idd,this.value])};return this},setValue:function(){},getValue:function(A){return A.childNodes[1].childNodes[0].value}};(function(){for(var A in {doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1}){dhtmlXForm.prototype.items.file[A]=dhtmlXForm.prototype.items.input[A]}})();dhtmlXForm.prototype.items.label={render:function(B,C){B._type="lb";B._enabled=true;B._checked=true;var A=document.createElement("DIV");A.className="dhxlist_txt_label2"+(C._isTopmost?" topmost":"");A.innerHTML=C.label;B.appendChild(A);if(C.hidden==true){this.hide(B)}if(C.disabled==true){this.userDisable(B)}if(!isNaN(C.labelWidth)){A.style.width=parseInt(C.labelWidth)+"px"}if(!isNaN(C.labelHeight)){A.style.height=parseInt(C.labelHeight)+"px"}if(!isNaN(C.labelLeft)){A.style.left=parseInt(C.labelLeft)+"px"}if(!isNaN(C.labelTop)){A.style.top=parseInt(C.labelTop)+"px"}return this},destruct:function(A){this.doUnloadNestedLists(A);A._autoCheck=null;A._enabled=null;A._type=null;A.callEvent=null;A.checkEvent=null;A.getForm=null;A.onselectstart=null;A.parentNode.removeChild(A);A=null},enable:function(A){if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}A._enabled=true},disable:function(A){if(String(A.className).search("disabled")<0){A.className+=" disabled"}A._enabled=false},isEnabled:function(A){return A._enabled},setText:function(A,B){A.firstChild.innerHTML=B},getText:function(A){return A.firstChild.innerHTML}};(function(){for(var A in {doUnloadNestedLists:1}){dhtmlXForm.prototype.items.label[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.button={render:function(B,C){B._type="bt";B._enabled=true;B._cmd=C.command;B._name=C.name;B.className=String(B.className).replace("item_label_top","item_label_left").replace("item_label_right","item_label_left");if(!isNaN(C.width)){var A=Math.max(C.width-50,0)}B.innerHTML='<div class="dhx_list_btn" role="link" tabindex="0" dir="ltr" onkeypress="e=event||window.arguments[0];if((e.keyCode==32||e.charCode==32)&&!this.parentNode._busy){this.parentNode._busy=true;e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);return false;}" ontouchstart="e=event;e.preventDefault();if(!this.parentNode._busy){this.parentNode._busy=true;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);}" onblur="_dhxForm_doClick(this.childNodes[0],\'mouseout\');" ><table cellspacing="0" cellpadding="0" border="0" align="left"><tr><td class="btn_l"><div class="btn_l">&nbsp;</div></td><td class="btn_m"><div class="btn_txt"'+(A!=null?' style="width:'+A+'px;"':"")+">"+C.value+'</div></td><td class="btn_r"><div class="btn_r">&nbsp;</div></td></tr></table></div>';if(!isNaN(C.inputLeft)){B.childNodes[0].style.left=parseInt(C.inputLeft)+"px"}if(!isNaN(C.inputTop)){B.childNodes[0].style.top=parseInt(C.inputTop)+"px"}if(C.hidden==true){this.hide(B)}if(C.disabled==true){this.userDisable(B)}B.onselectstart=function(D){D=D||event;D.cancelBubble=true;D.returnValue=false;return false};B.childNodes[0].onselectstart=function(D){D=D||event;D.cancelBubble=true;D.returnValue=false;return false};B.childNodes[0].childNodes[0].onmouseover=function(){var D=this.parentNode.parentNode;if(!D._enabled){return }this._isOver=true;this.className="dhx_list_btn_over";D=null};B.childNodes[0].childNodes[0].onmouseout=function(){var D=this.parentNode.parentNode;if(!D._enabled){return }this.className="";this._allowClick=false;this._pressed=false;this._isOver=false;D=null};B.childNodes[0].childNodes[0].onmousedown=function(){if(this._pressed){return }var D=this.parentNode.parentNode;if(!D._enabled){return }this.className="dhx_list_btn_pressed";this._allowClick=true;this._pressed=true;D=null};B.childNodes[0].childNodes[0].onmouseup=function(){if(!this._pressed){return }var D=this.parentNode.parentNode;if(!D._enabled){return }D._busy=false;this.className=(this._isOver?"dhx_list_btn_over":"");if(this._pressed&&this._allowClick){D.callEvent("_onButtonClick",[D._name,D._cmd])}this._allowClick=false;this._pressed=false;D=null};return this},destruct:function(A){this.doUnloadNestedLists(A);A.callEvent=null;A.checkEvent=null;A.getForm=null;A._autoCheck=null;A._type=null;A._enabled=null;A._cmd=null;A._name=null;A.onselectstart=null;A.childNodes[0].onselectstart=null;A.childNodes[0].onkeypress=null;A.childNodes[0].ontouchstart=null;A.childNodes[0].onblur=null;A.childNodes[0].childNodes[0].onmouseover=null;A.childNodes[0].childNodes[0].onmouseout=null;A.childNodes[0].childNodes[0].onmousedown=null;A.childNodes[0].childNodes[0].onmouseup=null;while(A.childNodes.length>0){A.removeChild(A.childNodes[0])}A.parentNode.removeChild(A);A=null},enable:function(A){if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}A._enabled=true;A.childNodes[0].tabIndex=0;A.childNodes[0].removeAttribute("disabled")},disable:function(A){if(String(A.className).search("disabled")<0){A.className+=" disabled"}A._enabled=false;A.childNodes[0].tabIndex=-1;A.childNodes[0].setAttribute("disabled","true")},isEnabled:function(A){return A._enabled},setText:function(A,B){A.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML=B},getText:function(A){return A.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML}};(function(){for(var A in {doUnloadNestedLists:1}){dhtmlXForm.prototype.items.button[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.hidden={render:function(B,C){B.style.display="none";B._name=C.name;B._type="hd";B._enabled=true;var A=document.createElement("INPUT");A.type="HIDDEN";A.name=C.name;A.value=(C.value||"");B.appendChild(A);return this},destruct:function(A){this.doUnloadNestedLists(A);while(A.childNodes.length>0){A.removeChild(A.childNodes[0])}A._autoCheck=null;A._name=null;A._type=null;A._enabled=null;A.onselectstart=null;A.callEvent=null;A.checkEvent=null;A.getForm=null;A.parentNode.removeChild(A);A=null},enable:function(A){A._enabled=true;A.childNodes[0].setAttribute("name",A._name)},disable:function(A){A._enabled=false;A.childNodes[0].removeAttribute("name")},isEnabled:function(A){return A._enabled},show:function(){},hide:function(){},isHidden:function(){return true},setValue:function(A,B){A.childNodes[0].value=B;window.dhtmlXFormLs[A.getForm()._rId].vals[A._idd]=A.childNodes[0].value},getValue:function(A){return A.childNodes[0].value}};(function(){for(var A in {doUnloadNestedLists:1}){dhtmlXForm.prototype.items.hidden[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.list={render:function(A){A._type="list";A._enabled=true;A._isNestedForm=true;A.className="dhxlist_base_nested";return[this,new dhtmlXForm(A)]},destruct:function(A){}};dhtmlXForm.prototype.items.fieldset={render:function(A,C){A._type="fs";if(typeof (parseInt(C.inputWidth))=="number"){if(_isFF||_isOpera){C.inputWidth-=12}}A._width=C.width;A._enabled=true;A._checked=true;A.className="fs_"+C.position+(typeof (C.className)=="string"?" "+C.className:"");var B=document.createElement("FIELDSET");B.className="dhxlist_fs";var D=String(C.labelAlign).replace("align_","");B.innerHTML="<legend class='fs_legend' align='"+D+"' style='text-align:"+D+"'>"+C.label+"</legend>";A.appendChild(B);if(!isNaN(C.inputLeft)){B.style.left=parseInt(C.inputLeft)+"px"}if(!isNaN(C.inputTop)){B.style.top=parseInt(C.inputTop)+"px"}if(C.inputWidth!="auto"){if(!isNaN(C.inputWidth)){B.style.width=parseInt(C.inputWidth)+"px"}}A._addSubListNode=function(){var E=document.createElement("DIV");this.childNodes[0].appendChild(E);return E};if(C.hidden==true){this.hide(A)}if(C.disabled==true){this.userDisable(A)}return this},destruct:function(A){this.doUnloadNestedLists(A);A._checked=null;A._enabled=null;A._idd=null;A._type=null;A._width=null;A.onselectstart=null;A._addSubListNode=null;A._autoCheck=null;A.callEvent=null;A.checkEvent=null;A.getForm=null;while(A.childNodes.length>0){A.removeChild(A.childNodes[0])}A.parentNode.removeChild(A);A=null},setText:function(A,B){A.childNodes[0].childNodes[0].innerHTML=B},getText:function(A){return A.childNodes[0].childNodes[0].innerHTML},enable:function(A){A._enabled=true;if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}},disable:function(A){A._enabled=false;if(String(A.className).search("disabled")<0){A.className+=" disabled"}},isEnabled:function(A){return A._enabled},setWidth:function(B,A){B.childNodes[0].style.width=A+"px";B._width=A},getWidth:function(A){return A._width}};(function(){for(var A in {doUnloadNestedLists:1}){dhtmlXForm.prototype.items.fieldset[A]=dhtmlXForm.prototype.items.checkbox[A]}})();dhtmlXForm.prototype.items.block={render:function(B,C){B._type="bl";B._width=C.width;B._enabled=true;B._checked=true;B.className="block_"+C.position+(typeof (C.className)=="string"?" "+C.className:"");var A=document.createElement("DIV");A.className="dhxlist_block";if(C.style){A.style.cssText=C.style}B.appendChild(A);if(!isNaN(C.inputLeft)){A.style.left=parseInt(C.inputLeft)+"px"}if(!isNaN(C.inputTop)){A.style.top=parseInt(C.inputTop)+"px"}if(C.inputWidth!="auto"){if(!isNaN(C.inputWidth)){A.style.width=parseInt(C.inputWidth)+"px"}}B._addSubListNode=function(){var D=document.createElement("DIV");D._inBlcok=true;this.childNodes[0].appendChild(D);return D};if(C.hidden==true){this.hide(B)}if(C.disabled==true){this.userDisable(B)}return this}};(function(){for(var A in {enable:1,disable:1,isEnabled:1,setWidth:1,getWidth:1,doUnloadNestedLists:1,destruct:1}){dhtmlXForm.prototype.items.block[A]=dhtmlXForm.prototype.items.fieldset[A]}})();dhtmlXForm.prototype.items.newcolumn={};dhtmlXForm.prototype.items.template={render:function(B,C){var A=(!isNaN(C.rows));B._type="tp";B._enabled=true;if(C.format){if(typeof (C.format)=="function"){B.format=C.format}if(typeof (window[C.format])=="function"){B.format=window[C.format]}}if(!B.format){B.format=function(D,E){return E}}this.doAddLabel(B,C);this.doAddInput(B,C,"DIV",null,true,true,"dhxlist_item_template");B._value=(C.value||"");B.childNodes[1].childNodes[0].innerHTML=B.format(B._idd,B._value);return this},setValue:function(A,B){A._value=B;A.childNodes[1].childNodes[0].innerHTML=A.format(A._idd,A._value)},getValue:function(A){return A._value},enable:function(A){if(String(A.className).search("disabled")>=0){A.className=String(A.className).replace(/disabled/gi,"")}A._enabled=true},disable:function(A){if(String(A.className).search("disabled")<0){A.className+=" disabled"}A._enabled=false}};(function(){for(var A in {doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1}){dhtmlXForm.prototype.items.template[A]=dhtmlXForm.prototype.items.select[A]}})();dhtmlXForm.prototype._ulToObject=function(D,G){var E=[];for(var A=0;A<D.childNodes.length;A++){if(String(D.childNodes[A].tagName||"").toLowerCase()=="li"){var B={};var I=D.childNodes[A];for(var H=0;H<G.length;H++){if(I.getAttribute(G[H])!=null){B[String(G[H]).replace("ftype","type")]=I.getAttribute(G[H])}}if(!B.label){try{B.label=I.firstChild.nodeValue}catch(F){}}var C=I.getElementsByTagName("UL");if(C[0]!=null){B[(B.type=="select"?"options":"list")]=dhtmlXForm.prototype._ulToObject(C[0],G)}E[E.length]=B}if(String(D.childNodes[A].tagName||"").toLowerCase()=="div"){var B={};B.type="label";try{B.label=D.childNodes[A].firstChild.nodeValue}catch(F){}E[E.length]=B}}return E};dhtmlxEvent(window,"load",function(){var A=["ftype","name","value","label","check","checked","disabled","text","rows","select","selected","command","width","style","labelWidth","labelHeight","labelLeft","labelTop","inputWidth","inputHeight","inputLeft","inputTop","position","size"];var B=document.getElementsByTagName("UL");var C=[];for(var F=0;F<B.length;F++){if(B[F].className=="dhtmlxForm"){var E=document.createElement("DIV");C[C.length]={nodeUL:B[F],nodeForm:E,data:dhtmlXForm.prototype._ulToObject(B[F],A),name:(B[F].getAttribute("name")||null)}}}for(var F=0;F<C.length;F++){C[F].nodeUL.parentNode.insertBefore(C[F].nodeForm,C[F].nodeUL);var G=new dhtmlXForm(C[F].nodeForm,C[F].data);if(C[F].name!==null){window[C[F].name]=G}var D=(C[F].nodeUL.getAttribute("oninit")||null);C[F].nodeUL.parentNode.removeChild(C[F].nodeUL);C[F].nodeUL=null;C[F].nodeForm=null;C[F].data=null;C[F]=null;if(D){if(typeof (D)=="function"){D()}else{if(typeof (window[D])=="function"){window[D]()}}}}});if(window.dhtmlXContainer){if(!dhtmlx.attaches){dhtmlx.attaches={}}if(!dhtmlx.attaches.attachForm){dhtmlx.attaches.attachForm=function(A){var B=document.createElement("DIV");B.id="dhxFormObj_"+this._genStr(12);B.style.position="relative";B.style.width="100%";B.style.height="100%";B.style.overflow="auto";B.cmp="form";this.attachObject(B);this.vs[this.av].form=new dhtmlXForm(B,A);this.vs[this.av].form.setSkin(this.skin);this.vs[this.av].form.setSizes();this.vs[this.av].formObj=B;return this.vs[this.av].form}}if(!dhtmlx.detaches){dhtmlx.detaches={}}if(!dhtmlx.detaches.detachForm){dhtmlx.detaches.detachForm=function(A){if(!A.form){return }A.form.unload();A.form=null;A.formObj=null;A.attachForm=null}}}dhtmlXForm.prototype.setUserData=function(C,A,B){if(!this._userdata){this._userdata={}}this._userdata[C]=(this._userdata[C]||{});this._userdata[C][A]=B};dhtmlXForm.prototype.getUserData=function(B,A){if(this._userdata){return((this._userdata[B]||{})[A])||""}return""};dhtmlXForm.prototype.setRTL=function(B){this._rtl=(B===true?true:false);for(var A=0;A<this.base.length;A++){if(this._rtl){if(String(this.base[A].className).search(/dhxform_rtl/gi)<0){this.base[A].className+=" dhxform_rtl"}}else{if(String(this.base[A].className).search(/dhxform_rtl/gi)>=0){this.base[A].className=String(this.base[A].className).replace(/dhxform_rtl/gi,"")}}}};_dhxForm_doClick=function(D,B){if(typeof (B)=="object"){var A=B[1];B=B[0]}if(document.createEvent){var C=document.createEvent("MouseEvents");C.initEvent(B,true,false);D.dispatchEvent(C)}else{if(document.createEventObject){var C=document.createEventObject();C.button=1;D.fireEvent("on"+B,C)}}if(A){window.setTimeout(function(){_dhxForm_doClick(D,A)},100)}};dhtmlXForm.prototype.setFormData=function(B){for(var A in B){var C=this.getItemType(A);switch(C){case"checkbox":this[B[A]==true||parseInt(B[A])==1||B[A]=="true"?"checkItem":"uncheckItem"](A);break;case"radio":this.checkItem(A,B[A]);break;case"input":case"textarea":case"select":case"multiselect":case"hidden":case"template":case"combo":case"calendar":case"colorpicker":case"editor":this.setItemValue(A,B[A]);break;default:if(this["setFormData_"+C]){this["setFormData_"+C](A,B[A])}else{if(!this.hId){this.hId=this._genStr(12)}this.setUserData(this.hId,A,B[A])}break}}};dhtmlXForm.prototype.getFormData=function(I,C){var A={};var F=this;for(var H in this.itemPull){var E=this.itemPull[H]._idd;var J=this.itemPull[H]._type;if(J=="ch"){A[E]=(this.isItemChecked(E)?1:0)}if(J=="ra"&&!A[this.itemPull[H]._group]){A[this.itemPull[H]._group]=this.getCheckedValue(this.itemPull[H]._group)}if(J in {se:1,ta:1,pw:1,hd:1,tp:1,fl:1,calendar:1,combo:1,editor:1,colorpicker:1}){A[E]=this.getItemValue(E,I)}if(this["getFormData_"+J]){A[E]=this["getFormData_"+J](E)}if(this.itemPull[H]._list){for(var B=0;B<this.itemPull[H]._list.length;B++){var D=this.itemPull[H]._list[B].getFormData(I,C);for(var G in D){A[G]=D[G]}}}}if(!C&&this.hId&&this._userdata[this.hId]){for(var H in this._userdata[this.hId]){if(!A[H]){A[H]=this._userdata[this.hId][H]}}}return A};_dhxForm_isIPad=(navigator.userAgent.search(/iPad/gi)>=0);dhtmlXForm.prototype.load=function(url,type,callback){var form=this;form.callEvent("onXLS",[]);if(typeof type=="function"){callback=type;type="xml"}dhtmlxAjax.get(url,function(loader){var data={};if(type=="json"){eval("data="+loader.xmlDoc.responseText)}else{var tags=loader.doXPath("//data/*");for(var i=0;i<tags.length;i++){data[tags[i].tagName]=tags[i].firstChild?tags[i].firstChild.nodeValue:""}}var id=url.match(/(\?|\&)id\=([a-z0-9_]*)/i);if(id&&id[0]){id=id[0].split("=")[1]}if(form.callEvent("onBeforeDataLoad",[id,data])){form.formId=id;form._last_load_data=data;form.setFormData(data);form.resetDataProcessor("updated")}form.callEvent("onXLE",[]);if(callback){callback.call(this)}})};dhtmlXForm.prototype.reset=function(){if(this.callEvent("onBeforeReset",[this.formId,this.getFormData()])){if(this._last_load_data){this.setFormData(this._last_load_data)}this.callEvent("onAfterReset",[this.formId])}};dhtmlXForm.prototype.send=function(C,F,G){if(typeof F=="function"){G=F;F="post"}if(!this.validate()){return }var A=this.getFormData(true);var E=[];for(var D in A){E.push(D+"="+encodeURIComponent(A[D]))}var B=function(H){if(G){G.call(this,H,H.xmlDoc.responseText)}};if(F=="get"){dhtmlxAjax.get(C+(C.indexOf("?")==-1?"?":"&")+E.join("&"),B)}else{dhtmlxAjax.post(C,E.join("&"),B)}};dhtmlXForm.prototype.save=function(A,B){};dhtmlXForm.prototype.dummy=function(){};dhtmlXForm.prototype._changeFormId=function(B,A){this.formId=A};dhtmlXForm.prototype._dp_init=function(A){A._methods=["dummy","dummy","_changeFormId","dummy"];A._getRowData=function(D,B){var C=this.obj.getFormData(true);C[this.action_param]=this.obj.getUserData(D,this.action_param);return C};A._clearUpdateFlag=function(){};A.attachEvent("onAfterUpdate",function(C,D,E,B){if(D=="inserted"||D=="updated"){this.obj.resetDataProcessor("updated");this.obj._last_load_data=this.obj.getFormData(true)}this.obj.callEvent("onAfterSave",[this.obj.formId,B]);return true});A.autoUpdate=false;A.setTransactionMode("POST",true);this.dp=A;this.formId=(new Date()).valueOf();this.resetDataProcessor("inserted");this.save=function(){if(!this.callEvent("onBeforeSave",[this.formId,this.getFormData()])){return }if(!this.validate()){return }A.sendData()}};dhtmlXForm.prototype.resetDataProcessor=function(A){if(!this.dp){return }this.dp.updatedRows=[];this.dp._in_progress=[];this.dp.setUpdated(this.formId,true,A)};if(!window.dhtmlxValidation){dhtmlxValidation=function(){};dhtmlxValidation.prototype={isEmpty:function(A){return A==""},isNotEmpty:function(A){return !A==""},isValidBoolean:function(A){return !!A.match(/^(0|1|true|false)$/)},isValidEmail:function(A){return !!A.match(/(^[a-z]([a-z0-9_\.]*)@([a-z_\.]*)([.][a-z]{3})$)|(^[a-z]([a-z_\.]*)@([a-z_\-\.]*)(\.[a-z]{2,3})$)/i)},isValidInteger:function(A){return !!A.match(/(^-?\d+$)/)},isValidNumeric:function(A){return !!A.match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(A){return !!A.match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(B){var A=B.match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return A&&!!(A[1]<=9999&&A[2]<=12&&A[3]<=31&&A[4]<=59&&A[5]<=59&&A[6]<=59)||false},isValidDate:function(A){var B=A.match(/^(\d{4})-(\d{2})-(\d{2})$/);return B&&!!(B[1]<=9999&&B[2]<=12&&B[3]<=31)||false},isValidTime:function(B){var A=B.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return A&&!!(A[1]<=24&&A[2]<=59&&A[3]<=59)||false},isValidIPv4:function(A){var B=A.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return B&&!!(B[1]<=255&&B[2]<=255&&B[3]<=255&&B[4]<=255)||false},isValidCurrency:function(A){return A.match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&true||false},isValidSSN:function(A){return A.match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&true||false},isValidSIN:function(A){return A.match(/^\d{9}$/)&&true||false}};dhtmlxValidation=new dhtmlxValidation()}window.dhtmlXFormLs={};